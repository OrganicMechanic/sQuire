@startuml
Activate User
Activate UserManager
User -> UserManager: addUser(newUser)
UserManager -> UserManager: isAdmin(user)

alt Admin
UserManager -> UserManager: addUser(newUser)
Activate Email
UserManager -> Email: SendNotification(newUser)
Deactivate Email
UserManager -> User: Success
end

alt Not Admin
UserManager -> User: Permission Denied
end
Deactivate UserManager
Deactivate User
@enduml