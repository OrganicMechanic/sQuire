@startuml
hide circle
class File
class User

File --* EditorWidget
class EditorWidget
class FileLineHistory {
User Lines[]
}

File --* FileLineHistory
FileLineHistory --* "1..*" User
EditorWidget *-- "1..*" Cursor

class Cursor {
position
User
}

Cursor --* "Associated with" User
class Server
Server *-right- "Recieves" TextOperation
class TextOperation {
Operations[]
apply()
transform()
}

EditorWidget -left-* "1..*" Operation

TextOperation *-right- "contains of 1..*" Operation
note right of Operation : These clases are based\non OT.js's implementation of\nOperational Transformation
class Operation
Class Insert
Class Delete
Class Retain
Insert -up-|> Operation
Delete -up-|> Operation
Retain -up-|> Operation

@enduml